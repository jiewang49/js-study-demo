<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Function call and  apply</title>
    <script type="text/javascript">
        //apply call 方法， 简单的用法，用于将一个函数绑定到一个对象上，并将当前对象的参数传递给绑定的函数以调用

        function Add(a, b) {
            return a + b;
        }

        function call1(num1, num2) {
            return Add.call(this, num1, num2);    //这里即是将函数 Add 绑定到当前对象this（即 call1对象）上，并传递参数num1和 num2给绑定的函数Add中，并调用绑定的函数
        }

        function apply1(num1, num2) {
            return Add.apply(this, [num1, num2]);
        }

        console.log(call1(3, 8));
        console.log(apply1(10, 20));

        //apply call的强大之处在于能够扩充函数运行的作用域
        //apply call根据所绑定的对象来确定作用域,好处是对象与方法没有任何耦合关系

        var color = "black";
        var obj = { color: "blue"};
        function showColor() {
            alert(this.color);
        }

        showColor.call(this);  //black
        showColor.call(obj);  //blue


        //call方法的简单模式和实现

        //自定义方法
        function test(a, b) {
            return a + b;
        }

        //自定义对象
        function Obj(x, y) {
            this.x = x;
            this.y = y;
            return x + y;
        }

        var obj = new Obj(10, 30);

        //模拟一下
        obj.method = test;
        obj.method(obj.x, obj.y);
        delete obj.method;

        //使用方法

        alert(test.call(obj, obj.x, obj.y));
    </script>
</head>
<body>

</body>
</html>